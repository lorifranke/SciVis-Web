Review
DOI: 10.1002/ijch.201300024


JSmol and the Next-Generation Web-Based
Representation of 3D Molecular Structure as Applied to
Proteopedia
Robert M. Hanson,[a] Jaime Prilusky,[b] Zhou Renjian,[c] Takanori Nakane,[d] and Joel L. Sussman*[e]


Abstract: Although Java does not run on some handheld de-                forwardly transformed directly into JavaScript, requiring no
vices, e.g., iPads and iPhones, JavaScript does. The develop-            Java applet, and producing identical graphical results. JSmol
ment of JSmol, a JavaScript-only version of Jmol, is de-                 is thus the first full-featured molecular viewer, and the first
scribed, and its use in Proteopedia is demonstrated. A key               ever viewer for proteins, which can be utilized with an inter-
aspect of JSmol is that it includes the full implementation of           net browser on handheld devices lacking Java. Since the Me-
the entire set of Jmol functionalities, including file reading           diaWiki features of Proteopedia have been modified to op-
and writing, scripting, and rendering. The relative perform-             tionally use JSmol, the wealth of crowd-sourced content in
ances of Java-based Jmol and JavaScript-only JSmol are dis-              Proteopedia is now directly available on such devices, with-
cussed. We can now confirm that the guiding principles of                out the need to download any additional applet.
Java programming can be completely and relatively straight-
Keywords: bioinformatics · databases · Java · JavaScript · Proteopedia




Communicating Science Widely

There is a great need to improve the communication of                    [a] R. M. Hanson+
scientific concepts at all levels, so as to generate a passion               St. Olaf College
for science in the next generation, as well as to increase                   Dept. of Chemistry
the public understanding of science. Proteopedia[1–3] was                    Northfield, MN 55057 (USA)
developed to tackle this issue via a novel approach. The                 [b] J. Prilusky+
novelty of Proteopedia lies in the implementation of                         Bioinformatics Unit
a wiki web resource that presents information on the 3D                      Biological Services
structure and function of biological macromolecules                          Weizmann Institute of Science
                                                                             Rehovot 76100 (Israel)
(Figure 1) as a way of showing the principles of structural
biology to a broad audience. This includes a wide range                  [c] Z. Renjian
                                                                             Room 202, Building 38
of web users, from high school students to medical school
                                                                             Nianjiabang Road 425
students, from educators looking for a way to engage                         Zhoupu Town, Pudong District
their students in molecular structure to scientists doing                    Shanghai 201318 (China)
basic and applied research, as well as the general public.               [d] T. Nakane
   Structural biology is concerned with accumulating                         Dept. of Cell Biology
structural information at the atomic level for proteins, nu-                 Graduate School of Medicine
cleic acids, and other biological macromolecules. Such de-                   Kyoto University
tailed information can then be utilized to understand how                    Yoshidakonoe-cho, Sakyo-ku
                                                                             Kyoto 606-8501 (Japan)
these macromolecules function, and how they recognize
other molecules with which they interact. However, bio-                  [e] J. L. Sussman
                                                                             Dept. of Structural Biology and the Israel Structural Proteomics
logical macromolecules contain many thousands of atoms
                                                                             Center
and, even when displayed on a computer screen as high-                       Weizmann Institute of Science
quality 3D representations, are often very difficult to                      Rehovot 76100 (Israel)
fathom, even for a trained biochemist, let alone for a clini-                phone + 972-8-934-4531
cian, a layman, or a high school student.                                    fax: + 972-8-934-6312
   Proteopedia was constructed with the specific objective                   e-mail: joel.sussman@weizmann.ac.il
of providing a user-friendly tool that would enable under-                [+] R. M. H. and J. P. made equal contribution to this paper.


Isr. J. Chem. 2013, 53, 207 – 216                  2013 Wiley-VCH Verlag GmbH & Co. KGaA, Weinheim                                       207
Review                                                                                                                      J. L. Sussman et al.


Robert Hanson is the Edolph A. Larson                                   graduates, graduate students, scientists, and clinical inves-
and Truman E. Anderson Sr. Chair of                                     tigators, amongst others, to understand such complex
Chemistry and currently serves as chair                                 macromolecular structures and how they function as mi-
of the St. Olaf College Chemistry Dept.                                 croscopic bio-nano machines. It has not escaped our
He joined the St. Olaf faculty in 1986                                  notice that the development of such a tool for structural
after earning a B. S. from Caltech,                                     biology might serve as a paradigm for developing similar
a PhD from Columbia University, and                                     tools for other disciplines, such as astronomy, neuroanato-
completing postdoctoral work at MIT.                                    my, architecture, and paleontology.
Over the course of his career, Hanson
                                                                           Structural biology has played a cutting edge role in the
has been the recipient of many awards
and grants from organizations that in-
                                                                        immense progress of life science research over the past 60
clude the NSF, NIH, the ACS, DuPont,                                    years. There have been more than a dozen Nobel Prizes
Eli Lilly, and the W. M. Keck Founda-                                   in structural biology since the early 1950s, when Watson
tion. Hanson has published numerous articles in the areas of            and Crick[4] determined the 3D structure of the DNA
chemistry, material science, informatics, and mathematics, as well      double helix (Figure 2 a). Understanding the basic mecha-
as two books: Molecular Origami: Precision Scale Models from Paper      nisms of how protein and nucleic acid molecules function
and Introduction to Molecular Thermodynamics. He is the co-inventor     is crucial for biology. For example, without structural in-
on one patent titled Catalytic Asymmetric Epoxidation (with K. Barry    sight (Figure 2 b), it is impossible to comprehend how the
Sharpless, who received the Nobel Prize in Chemistry in 2001).          ribosome (the nano-machine that synthesizes all proteins
Since 2006 Hanson has been the project leader and principal devel-
oper for the Jmol Molecular Visualization Project, a global open-
source interdisciplinary effort to develop novel web-based capabili-
ties for the visualization of molecular structure and energetics. Ap-   Zhou Renjian earned his B. S. in Math-
plicable in a wide range of fields, the Jmol applet can be found on     ematics at Shanghai Jiao Tong Univer-
thousands of websites, including the PDB and Proteopedia. In 2010       sity. He worked as a software engineer
Jmol became part of an exhibit on nanotechnology in the Innoven-        for IDSignet, Primeton, and Koretide,
tions pavilion at the Walt Disney Epcot theme park, where more          doing research and development in
than 300,000 visitors have interacted with it. He also developed the    digital signatures, enterprise software
Interim course Medicinal Chemistry in Jamaica: An International         platforms, and computer operating sys-
Perspective, which brings students to the University of the West        tems. He created the open source proj-
Indies in Kingston, Jamaica, every other year for an in-depth look      ect Java2Script, providing an Eclipse
into how drugs work and how they are designed and developed,            plugin for converting existing Java code
with a particular focus on the interactions of culture, traditional     into JavaScript. He also developed and
healing, and pharmaceutical medicine. Prof. Hanson may be               operated WeBuzz.IM service, providing
reached at hansonr@stolaf.edu.                                          web messengers for users to connect
                                                                        with their friends on popular instant messaging networks, such as
                                                                        Gtalk, MSN, YMSG, and AIM. Recently, he co-founded Coco Voice
                                                                        with Guo Lei, an app for iOS and Android devices, helping people
Jaime Prilusky is the Head of the Bioin-                                to send text, voice, and pictures to their friends. Mr. Renjian may be
formatics Unit at the Weizmann Insti-                                   reached at zhourenjian@gmail.com.
tute of Science in Rehovot, Israel. He
received his PhD in neuroendocrinolo-                                   Takanori Nakane graduated from Kyoto
gy from the National University of Cor-                                 University’s School of Medicine in
doba, Argentina in 1974, and was a full                                 2010. After passing Japan’s national
professor at the National Technological                                 board exam and qualifying as a medical
University in Argentina before joining                                  doctor, Nakane decided to enter a four-
the Weizmann Institute in 1989. An                                      year PhD course in X-ray crystallogra-
early online pioneer in bioinformatics,                                 phy at Kyoto University instead of clini-
Jaime developed the first web interface                                 cal practice. While working on “wet”
to search and retrieve PDB data, called                                 experiments, he realized that he is
3DB, and founded BioMOO (a virtual                                      more attracted to “dry” (computation-
meeting place for biologists). In addition to Proteopedia his proj-     al) aspects of science. Over the last
ects include OCA (oca.weizmann.ac.il), a browser-database for pro-      two years, Nakane has been developing
tein structure/function and GeneCards (www.genecards.org), an           molecular viewers for web browsers
electronic encyclopedia integrating information about the functions     and mobile devices, including the NDKMol molecular viewer that
of human genes and their products, and of biomedical applications       has been incorporated with the RCSB PDB Mobile app. Nakane
based on this knowledge. For more, see http://miw.weizmann.ac.il.       also contributes to several open-source projects, including PyMOL
Most recently he, together with Joel Sussman & Eran Hodis, has de-      and Jmol. Visit http://webglmol.sourceforge.jp to download Na-
veloped Proteopedia, the free, collaborative 3D encyclopedia of pro-    kane’s GLmol (Molecular viewer on WebGL/Javascript) and ESmol
teins & other molecules (http://proteopedia.org). Prof. Prilusky may    & NDKmol (Molecular viewer for Android). Dr. Nakane may be
be reached at Jaime.Prilusky@weizmann.ac.il.                            reached at nakane.t@gmail.com.



208     www.ijc.wiley-vch.de                  2013 Wiley-VCH Verlag GmbH & Co. KGaA, Weinheim                   Isr. J. Chem. 2013, 53, 207 – 216
Web-Based 3D Molecular Structure

in all living systems) works. Structural information is also                Proteopedia also enables users to supplement their sci-
crucial for understanding how regulatory proteins turn                   entific publications with Interactive 3D Comple-
genes on and off, by recognizing specific regions of DNA                 ments (I3DCs) (http://proteopedia.org/w/Interactive_3D_
(Figure 2 c).                                                            Complements_in_Proteopedia). A new “Workbench” fea-
   Proteopedia has been used particularly successfully in                ture (http://proteopedia.org/w/Workbenches), intended
conjugation with SMART Teams (“Students Modeling A                       expressly for the creation of articles complementing up-
Research        Topic”    [http://proteopedia.org/w/Group:               coming scientific publications, allows authors to hide their
SMART:Teams], a project developed by Dr. Timothy                         protected article during its development. These hidden
Herman, Milwaukee School of Engineering). Within the                     pages may be made accessible for viewing and editing by
SMART framework, the students, together with their                       co-authors, referees and editors, and can quickly be made
mentors, e.g., professors and/or graduate or undergradu-                 public upon publication of the accompanying paper. Such
ate students at nearby universities, design and build phys-              I3DCs for publications have already been used effectively
ical models of proteins. They then make an oral presenta-                (Figure 4). Already 65 such I3DCs, associated with arti-
tion explaining their work to a lay audience, and prepare                cles published in 12 different journals, have been generat-
a poster that is presented to a scientific audience. Follow-             ed (http://proteopedia.org/w/Special:SpecialI3DC).
ing this, a number of such teams have also produced Pro-
teopedia pages, some of which are spectacular. A striking
example of one such Proteopedia page is “A Physical
Model of the b2-Adrenergic Receptor.” This was one of
the first examples of a SMART Team Proteopedia page,
                                                                         Interactive Molecular Visualization
and it is a model of just how well high school students
can communicate the essence of the relationship of the                   Proteopedias unique character hinges on the fact that it
3D structure of a protein to its function (Figure 3).                    allows a relative novice to create a story around an inter-
                                                                         active molecular visualization that the reader can then ex-
                                                                         plore on his or her own, or with a variable amount of
Joel L. Sussman is the Morton and
Gladys Pickman Professor of Structural
                                                                         guidance. This capability has been made possible by
Biology at the Weizmann Institute of                                     a rich history of technological developments. Over the
Science, and the Director of the Israel                                  course of the last 50 years, the interactive 3D representa-
Structural Proteomics Center (ISPC,                                      tion of molecular structures has changed dramatically.
http://www.weizmann.ac.il/ISPC). He                                      From Levinthals Kluge[5,6] (Figure 5) to current capabili-
is a member of EMBO, a Fellow of the                                     ties, we have seen an enormous transition from graphics
AAAS, on the Executive Board of the                                      intended for private viewing on specialized main-frame
Int’l Structural Genomics Org (ISGO)                                     computers, to graphics that run on literally billions of per-
and on the editorial board of Proteins,                                  sonal hand-held devices. With the advent of the web, and
PEDS & PLoS ONE. He is an Honorary
                                                                         the development of the Chime plug-in in the 1990s, chem-
Professor of the Chinese Academy of
Sciences, received the Bergmann Prize
                                                                         ists,[7] biochemists, and molecular biologists finally ob-
for Outstanding Research in Chemistry in Israel (1979), the U.S.         tained a means of communicating their research results
Army Science Conference Award for Outstanding Research (1991),           and teaching lessons that related to molecular structure
the Elkeles Prize for Outstanding Scientist in Medicine in Israel        in an interactive form. Chimes nature as a Netscape
(2005) and the Teva Founders Prize for Breakthroughs in Molecular        browser plug-in was both its strength and its downfall.
Medicine (2006). From 1994 to 1999 he was the director of the            While it made interactive structure manipulation widely
Brookhaven PDB. He obtained his B. A. at Cornell University in           available, it was not compatible with newer technologies,
1965, and his PhD in biophysics at MIT in 1972. His research             and had to be abandoned.
group, at the Weizmann, is studying the 3D structure/function of            One of these newer technologies was Java, introduced
nervous system proteins, including b-secretase, acetylcholinester-
                                                                         into browsers as its own Netscape plug-in in 1995.[8] For
ase, cholinesterase-like adhesion molecules (CLAMs), b-glucosidase
(the enzyme that is defective in Gaucher disease) and paraoxonase
                                                                         roughly two decades, Java has served the web community
(a key enzyme that helps rid the arteries of plaque-forming clumps       as a ubiquitous mechanism for delivering interactive web-
of LDL, “bad” cholesterol, that can lead to arteriosclerosis). The       based content. Capitalizing on the widespread availability
goal of his research is to use the 3D structures of proteins as          of Java, the developers of Jmol found ways to deliver es-
a basis for new leads for treating neurological disorders, such as       sentially all of the capabilities of RasMol and Chime,
Alzheimer’s Disease, autism, and in developing new therapies for         along with many additional capabilities that crossed into
Gaucher and arteriosclerosis. He is also studying intrinsically disor-   additional scientific fields, such as inorganic chemistry,
dered proteins. Most recently he, together with Jaime Prilusky &         crystallography, and materials science. To date, hundreds,
Eran Hodis, has developed Proteopedia, the free, collaborative 3D        if not thousands, of web sites far too many to list here
encyclopedia of proteins and other molecules (http://proteopedia.
                                                                         utilize the Jmol Java applet (Figure 6) to enhance their
org).
                                                                         content and provide an interactive visitor experience.


Isr. J. Chem. 2013, 53, 207 – 216               2013 Wiley-VCH Verlag GmbH & Co. KGaA, Weinheim              www.ijc.wiley-vch.de   209
Review                                                                                                                  J. L. Sussman et al.




Figure 1. The hemoglobin page in Proteopedia (http://proteopedia.org/w/Hemoglobin), a typical Proteopedia page. It displays the red
blood cell protein, hemoglobin, in the center, surrounded by representations of individual 3D images of functional parts of the protein,
which are displayed as the viewer clicks on a particular highlighted hyperlink in the explanatory text.


Creating Value                                                        includes a rich high-level scripting language with nearly
                                                                      1,000 semantic tokens embedded in a fully functional,
The key to Jmols success and wide acceptance by the                  mathematically based programming language that permits
web development community has been the way it, like its               the sophisticated manipulation of molecular “objects.”
predecessor Chime, has enabled a completely new type of               On top of that, Jmols user-developers have designed
“developer” to create value. Whereas traditional 3D soft-             a JavaScript library that makes customization exception-
ware development (still) involves a software developer                ally easy.
(usually a professional engineering team or a motivated                  Due to the flexibility and wide-ranging capabilities of
computer-savvy amateur) and a user (often a well-trained,             Jmol, the crowd-sourcing of web page content creation to
experienced scientist), these web-based tools are differ-             this group of dedicated “Jmol users” (in effect, web page
ent. The Jmol[3] software designers are programmers in                developers) has been enormously productive over the
the traditional sense. The ultimate users of these tools,             past 5–10 years. Pages range from very simple to highly
however, are true novices, who have, most probably, abso-             complex, and from displays of just one molecule to full
lutely no experience in running 3D software tools. In-                web-based applications, e.g., Proteopedia, First Glance,[9]
stead, they are simply visitors to web sites students, non-           the CheMagic Virtual Molecular Model Kit,[10] and many
scientists, and professional scientists alike. What lies in           others.
between these two constituents is what makes Jmol so in-
teresting: a large group of web page designers, mostly
amateurs in the programming world, including scientists
                                                                      The Java Dilemma
and educators who have learned a bit of JavaScript and
HTML and are able to express their creativity in the                  Recently, however, between Apples decision not to allow
form of web sites. In effect, the Jmol applet provides                Java on their iOS platform and the Java browser plug-in
a blank slate upon which molecularly minded scientists in             coming under fire as a possible security risk,[11] we find
a wide variety of fields can create customized visual por-            ourselves once more at a technology cusp. No longer is
tals into their worlds. The “value-added” nature of Jmol              the Java plug-in ubiquitous. As a consequence, as technol-


210    www.ijc.wiley-vch.de                 2013 Wiley-VCH Verlag GmbH & Co. KGaA, Weinheim                 Isr. J. Chem. 2013, 53, 207 – 216
Web-Based 3D Molecular Structure




Figure 2. Important biomacromolecules as represented in Proteopedia. (a) Forms of DNA; showing 3D models of A-, B-, and Z-DNA that
can be synchronized to illustrate differences between them (by Adithya Sagar, a visiting student at the Weizmann Institute of Science from
the India Institute of Technology;[22] http://proteopedia.org/w/Forms_of_DNA). (b) Large ribosomal subunit (by Dr. Wayne Decatur, postdoc-
toral fellow at University of New Hampshire;[23] http://proteopedia.org/w/Large_Ribosomal_Subunit_of_Haloarcula). (c) Structure of a com-
plex of a regulatory protein with its gene (by Prof. Eric Martz at University of Massachusetts; http://proteopedia.org/w/Lac_repressor).




Isr. J. Chem. 2013, 53, 207 – 216             2013 Wiley-VCH Verlag GmbH & Co. KGaA, Weinheim                  www.ijc.wiley-vch.de   211
Review                                                                                                                       J. L. Sussman et al.




Figure 3. Proteopedia use in pedagogy. Proteopedia page: “A Physical Model of the b2-Adrenergic Receptor” (http://proteopedia.org/w/
Group:SMART:A_Physical_Model_of_the_b2-Adrenergic_Receptor) authored by the Madison West High School SMART team. To the right of
the interactive 3D structure is a movie that the SMART team created and uploaded, which uses a physical model of the receptor to explain
its structure and function.




Figure 4. Example of an I3DC (http://proteopedia.org/w/Journal:Cell:1) for a recent paper on interferon, published in Cell.[24]


212     www.ijc.wiley-vch.de                  2013 Wiley-VCH Verlag GmbH & Co. KGaA, Weinheim                    Isr. J. Chem. 2013, 53, 207 – 216
Web-Based 3D Molecular Structure

                                                                        have to start all over again, as some bold developers have
                                                                        attempted to do, e.g., iChemLabs.[15] However, such an
                                                                        option seemed extremely daunting for such a feature-
                                                                        filled program as Jmol and such a complex application as
                                                                        Proteopedia. Nonetheless, the decision was made to ex-
                                                                        plore the possibility of using HTML5, with or without
                                                                        WebGL, and the results of that exploration are presented
                                                                        here.



                                                                        Java-less Jmol?
                                                                        The fact that Jmol is written in Java suggests that perhaps
                                                                        its run is over, that it needs to give way to a new genera-
                                                                        tion of technology. However, there are two important as-
                                                                        pects of Jmol that suggest that this might not be necessa-
                                                                        ry. First, Jmol is written in a highly modularized style of
                                                                        Java programming. From the start, it was recognized that
Figure 5. Image of the Kluge, one of the earliest (if not the earli-
                                                                        success on the web involves targeted downloads, allowing
est) molecular graphics systems, which was developed by Cyrus
Levinthal at MIT in the early 1960s. The computer was a Digital         only the parts necessary for a given application to be
Equipment Corp. (DEC) PDB-7, and the glass hemisphere was               downloaded, and the program to be delivered incremen-
a powerful interactive device that permitted rotation in three di-      tally. This modularization might easily be transferable
mensions.                                                               into JavaScript,[16] allowing, again, targeted download of
                                                                        Jmol features on a need-to-use basis. Second, Jmol has
                                                                        been developed in a truly unusual way, utilizing absolute-
                                                                        ly no external 3D graphics packages. Every pixel that
                                                                        a user sees as a model is manipulated in a Jmol rendering,
                                                                        and is created on the fly, using exceptionally efficient ras-
                                                                        tering techniques. This allows Jmol (in whatever program-
                                                                        ming language) to be completely independent of the com-
                                                                        puter/tablet operating system employed, and allows it to
                                                                        be the first full-featured molecular viewer for web brows-
                                                                        ers to become available on Apples iPad.
                                                                           We can now confirm that these guiding principles of
                                                                        Java programming can be completely and relatively
                                                                        straightforwardly transformed directly into JavaScript, re-
Figure 6. Examples of the broad range of visualizations possible        quiring no Java applet, and producing identical graphical
with Jmol/JSmol, including a small molecule with molecular orbi-        results. Thus, over the course of the past six months, we
tals, a biomolecule with surfaces, and a PyMOL session.                 have been able to completely recreate Jmol in pure Java-
                                                                        Script, in the form we now refer to as JSmol.[17] Key to
                                                                        this development has been the use and co-development
ogy advances, web applications, such as Proteopedia, are                of the Java2Script Eclipse Plug-In,[18] a remarkable piece
at risk of losing their audience. This time it is Java that is          of software that allows “compiling” of Java code directly
losing its hold, and the new technology is HTML5.[12]                   into JavaScript. A huge benefit of using Java2Script has
Combined with WebGL[13] (a browser-based version of                     been that Jmol development can still be done in Java,
OpenGL[14]), HTML5 allows reasonable speed in render-                   producing all the Java compiled versions (Jmol desktop
ing complex 3D graphical scenes. Now available in all sig-              application, JmolData server application, and the signed
nificant browsers, HTML5 holds the promise of deliver-                  and unsigned Jmol applets), just as before. A few simple
ing 3D molecular content without Java. However,                         steps within the Eclipse programming environment com-
WebGL is not generally available on mobile operating                    pile that code into JavaScript.
systems (most notably not on iOS or Android).                              Substantial optimization of the Jmol Java code, of the
   Will HTML5 indeed serve as a suitable replacement                    portions of the Java language utilized by Jmol, and of the
for Java, in terms of the interactive graphical representa-             compiler itself, was necessary to achieve this success.
tion of molecular structure on the web? This was the                    Many routine Java techniques (such as the overriding of
question that we, as Jmol and Proteopedia developers,                   methods by sub-classing or the overloading of methods
posed in the fall of 2012. The fear was that we would                   by using multiple “signatures”) must be completely avoid-


Isr. J. Chem. 2013, 53, 207 – 216              2013 Wiley-VCH Verlag GmbH & Co. KGaA, Weinheim              www.ijc.wiley-vch.de   213
Review                                                                                                                    J. L. Sussman et al.

Table 1. Relative performance comparison of Jmol and JSmol.[a]
                                                                                      Jmol                                               JSmol
core download (MB)[b]                                                                 1.0                                                2.2
core + bio package download (MB)[c]                                                   1.1                                                2.4
Small-molecule loading time (ms)[d]                                                   90                                                 60
Small-protein loading time (ms)[e]                                                    120                                                140
Large-protein loading time (ms)[f ]                                                   730                                                2600
Large-protein rendering time (ms)[g]                                                  11/12                                              95/85
Small-protein surface creation time (ms)[h]                                           150                                                1250
PyMOL session file loading (ms)[i]                                                    96                                                 750
[a] Performance will vary with platform, browser, and machine; the reported testing was carried out using Firefox 18.0.2/Windows 8 on
a Toshiba Satellite P845t laptop with i5–3317U 1.70 GHz CPU and 6 GB memory; [b] includes JmolApplet0.jar vs. core.z.js + corescript.z.js;
[c] adds JmolApplet0ShapeBio.jar or core.bio.js; [d] loading caffeine model; [e] loading 1CRN (49 KB, 327 atoms); [f ] loading 2bxaH (2BXA,
with hydrogen atoms, 1.4 MB, 16,731 atoms); [g] rendering of 2bxaH as balls and sticks/as cartoons; [h] 1CRN, 1.2  solvent-accessible sur-
face; [i] loading dna.pse (DNA 12-mer scene, 796 atoms).


ed in critical code sections. Needless to say, a substantial             to OpenGL. Our efforts have not been as advanced in
amount of experimentation was necessary. In the end,                     this area, partially because writing WebGL export drivers
however, the results achieved are impressive: A fully                    for Jmol is somewhat more complicated than a direct
functional JavaScript-only version of Jmol now runs on                   translation of Java into JavaScript. Our starting point in
all modern browsers, including Internet Explorer, Firefox,               this effort has been GLmol,[19] a web-based viewer that
Safari, Chrome, and Opera, and on all platforms tested,                  was developed by one of us (TN). The fact that Apple
including Windows, Linux, Apple OS X, and Apple iOS.                     has also disabled WebGL in its browser for the iPad has
   A comparison of Jmol and JSmol is provided in                         slowed this development somewhat. Nonetheless,
Table 1. Not surprisingly, Jmol is more compact than                     WebGL-based versions of JSmol could potentially pro-
JSmol, by a factor of ~ 2–3. Much of this difference is due              vide an alternative to our current HTML5-only solution.
to the fact that the Java language library is already pres-
ent on the client machine, in the form of a Java plug-in,
and that the Java code is in a binary format. In contrast,
when a page utilizing JSmol is accessed, the required
components of the Java language, translated into non-
                                                                         JSmol in Proteopedia
binary JavaScript, must be downloaded in full. In both
cases, however, files are cached, and subsequent page                    The sophisticated and feature-demanding nature of Pro-
views are far faster than the first viewing.                             teopedia poses an excellent challenge for JavaScript-based
   Performance with small molecules is very similar in the               interactive molecular graphics. We are happy to report
two versions, but clearly JavaScript does not scale at the               that, despite the performance limitations of JavaScript,
same rate as Java. Todays JavaScript lacks many of the                  utilization of JSmol has been successfully implemented in
basic features of Java, including integer and bit set data               Proteopedia. As described elsewhere,[1,2] Proteopedia runs
types, both of which are widely used in Jmol/JSmol.                      on top of MediaWiki,[20] an open source collaborative en-
These types have to be “faked” in JavaScript using                       vironment that provides Proteopedia the basic infrastruc-
double-precision numbers, leading to performance issues.                 ture for community editing. To maintain the smooth wiki-
Developers of different browsers have optimized their                    3D structure integration characteristic of Proteopedia, we
JavaScript implementations in different ways and to dif-                 have developed JSmolExtension,[21] a dedicated software
ferent extents, resulting in significant performance differ-             that enables MediaWiki to display 3D structures using
ences between browsers. The end result is that model pro-                JSmol, utilizing the best available rendering engine
duction can take significantly more time in JavaScript,                  whether it be WebGL, HTML5, Java or resorting to
and, for large systems, model rotation may seem some-                    a static image, in the unlikely case that either none of
what sluggish in comparison to Jmol.                                     these is available or that the available engine is limited
                                                                         too much by performance issues. JSmolExtension pro-
                                                                         vides full backward compatibility, enabling Proteopedia
                                                                         to display the > 90,000 pages created utilizing Jmol on
JSmol with WebGL
                                                                         Java-less devices, such as the Apple iPad (Figure 7) and
The above discussion relates to the pure HTML5 version                   Google Android tablets. The Proteopedia server is able
of JSmol, which uses a 2D-only canvas to render scenes.                  to sense the clients device, whether it is a computer or
We have also been experimenting with WebGL, which                        a Java-less device, and then automatically delivers the
allows for hardware acceleration of 3D rendering similar                 Proteopedia page requested with the appropriate viewer.


214     www.ijc.wiley-vch.de                   2013 Wiley-VCH Verlag GmbH & Co. KGaA, Weinheim                Isr. J. Chem. 2013, 53, 207 – 216
Web-Based 3D Molecular Structure




Figure 7. Comparison of Proteopedia pages showing the HIV-1 Protease in (a) Jmol on a MacBookPro (using the Safari browser), and (b)
JSmol on an iPad (using the Safari browser).




Isr. J. Chem. 2013, 53, 207 – 216           2013 Wiley-VCH Verlag GmbH & Co. KGaA, Weinheim               www.ijc.wiley-vch.de   215
Review                                                                                                                 J. L. Sussman et al.

Conclusions                                                          [2] J. Prilusky, E. Hodis, D. Canner, W. A. Decatur, K. Ober-
                                                                         holser, E. Martz, A. Berchanski, M. Harel, J. L. Sussman, J.
Clearly, a new age of web-based molecular visualization                  Struct. Biol. 2011, 175, 244 – 252.
                                                                     [3] Proteopedia, Proteopedia: Main Page, 2008, http://proteope
is at hand. Technology is changing rapidly, and great op-                dia.org.
portunities are opening up for meaningful, interactive, 3D           [4] J. D. Watson, F. H. C. Crick, Nature 1953, 171, 737 – 738.
molecular visualization over the web that will be able to            [5] C. Levinthal, Sci. Am. 1966, 214, 42 – 52.
reach millions of people in ways that could not have been            [6] E. Francoeur, Endeavour 2002, 26, 127 – 131.
imagined only a decade ago. If the international collabo-            [7] MDL Information System, Inc., MDL Chime (Version 2.6
ration that has propelled Proteopedia and JSmol to the                   SP7), 2007, http://accelrys.com/products/informatics/chemin
                                                                         formatics/chime/chime-release-notes.html.
frontier of this new age is any indication of what will be,
                                                                     [8] Oracle, The History of Java Technology, 2013, http://
we can anticipate many more full-featured web-based                      www.oracle.com/technetwork/java/javase/overview/javahis
tools built by students, educators, and practicing scientists            tory-index-198355.html.
in the near future.                                                  [9] E. Martz, FirstGlance in Jmol, 2006, http://bioinformatics.
                                                                         org/firstglance/fgij/.
                                                                    [10] O. Rothenberg, T. Newton, CheMagic Virtual Molecular
Acknowledgements                                                         Model Kit, 2012, http://chemagic.com/JSmolVMK.htm.
                                                                    [11] Reuters, U.S. warns on Java software as security concerns es-
This study was supported by grants from the Yeda Re-                     calate,    2013,     http://www.reuters.com/article/2013/01/11/
search and Development Company, Ltd. of the Weizmann                     us-java-security-idUSBRE90A0S320130111.
                                                                    [12] W3C, HTML5 differences from HTML4, 2013, http://
Institute of Science, the Bruce H. and Rosalie N. Rosen                  www.w3.org/TR/2011/WD-html5-diff-20110405.
Family Foundation, the Nalvyco Trust, the Divadol Foun-             [13] Mozilla Developer Network, WebGL, 2013, https://
dation, the Kimmelman Center, and from the James H.                      developer.mozilla.org/en-US/docs/WebGL.
Hammons Professorship endowment at Swarthmore Col-                  [14] OpenGL, 2013, http://www.opengl.org.
lege. We would like to thank the Japan Society for the              [15] iChemLabs, 2013, http://www.ichemlabs.com.
Promotion of Science (JSPS) for a scholarship, and ac-              [16] How is JavaScript different from Java?, 2013, http://www.
                                                                         java.com/en/download/faq/java_javascript.xml.
knowledge the generous support of Takuya Kobayashi.
                                                                    [17] JSmol, 2013, http://jsmol.sourceforge.net.
The authors are very grateful to the Jmol and MediaWiki             [18] R. Zhou, The Java2Script Eclipse plugin, 2005, http://
development teams for their respective software packages                 j2s.sourceforge.net.
and for the support that they generously offered us. We             [19] GLmol-Molecular Viewer on WebGL/Javascript, 2013,
thank Paul Pillot for his assistance in developing Jmol-                 http://webglmol.sourceforge.jp/index-en.html.
JSO, a framework upon which JSmol was built, Duncan                 [20] MediaWiki, MediaWiki, http://www.mediawiki.org/wiki/
                                                                         MediaWiki.
Blue (St. Olaf 16) who assisted in testing JSmol during
                                                                    [21] J. Prilusky, JSmolExtension: a MediaWiki extension to in-
its development, and Israel Silman for valuable discus-                  clude JSmol structures in MediaWiki, 2013, http://proteope
sions and comments on the manuscript. RMH holds the                      dia.org/support/JSmolExtension.
Edolph A. Larson and Truman E. Anderson, Sr. Chair of               [22] A. Sagar, K. Oberholser, Biochem. Mol. Biol. Educ. 2012,
Chemistry. JLS is the Morton and Gladys Pickman Pro-                     40, 74.
fessor of Structural Biology. Data files and code used for          [23] W. A. Decatur, Biochem. Mol. Biol. Educ. 2010, 38, 343.
this paper can be found at http://chemapps.stolaf.edu/              [24] C. Thomas, I. Moraga, D. Levin, P. O. Krutzik, Y. Podople-
                                                                         lova, A. Trejo, C. Lee, G. Yarden, S. Vleck, J. S. Glenn, G. P.
jmol/jsmol.                                                              Nolan, J. Piehler, G. Schreiber, K. C. Garcia, Cell 2011, 146,
                                                                         621 – 632.

References
 [1] E. Hodis, J. Prilusky, E. Martz, I. Silman, J. Moult, J. L.                                          Received: February 22, 2013
     Sussman, Genome Biol. 2008, 9, R121.                                                                   Accepted: March 8, 2013




216    www.ijc.wiley-vch.de               2013 Wiley-VCH Verlag GmbH & Co. KGaA, Weinheim                  Isr. J. Chem. 2013, 53, 207 – 216
